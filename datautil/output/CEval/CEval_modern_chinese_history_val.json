{
    "basic_information": {
        "name": "ceval_modern_chinese_history_val",
        "creator": "ceval",
        "date": "2023/05",
        "info": "ceval, modern_chinese_history, validation set"
    },
    "cases": [
        {
            "input": "1944年4月至1945年1月，日本发动打通中国大陆交通线的战役是____\nA: 忻口战役\nB: 淞沪战役\nC: 豫湘桂战役\nD: 枣宜会战",
            "expected_answer": "C",
            "info": "case 0"
        },
        {
            "input": "大革命时期的统一战线和抗日民族统一战线____\nA: 都有共同的政治纲领\nB: 均采取党内合作方式\nC: 全具有反帝反封建性质\nD: 皆有各阶层广泛参加",
            "expected_answer": "A",
            "info": "case 1"
        },
        {
            "input": "下列不平等条约中，赔款数额最多的是____\nA: 《南京条约》\nB: 《北京条约》\nC: 《马关条约》\nD: 《辛丑条约》",
            "expected_answer": "D",
            "info": "case 2"
        },
        {
            "input": "中国共产党发出“停止内战，一致抗日”的号召是在____\nA: 蒋介石对中央苏区第四次“围剿”时\nB: “何梅协定”签订后\nC: 瓦窑堡会议期间\nD: 西安事变发生后",
            "expected_answer": "B",
            "info": "case 3"
        },
        {
            "input": "1949年9月21日，中国人民政治协商会议第一届全体会议通过了具有临时宪法作用的是____\nA: 《中华民国临时约法》\nB: 《和平宪法》\nC: 《中国人民政治协商会议共同纲领》\nD: 《中华人民共和国宪法》",
            "expected_answer": "C",
            "info": "case 4"
        },
        {
            "input": "1946年1月10日，政治协商会议在重庆开幕，共产党与民主党派和无党派人士的代表密切合作，推动政协会议达成了政府组织、国民大会、和平建国纲领、宪法草案、军事问题等五项决议。这些决议及其他协议____\nA: 是蒋介石发动内战的依据\nB: 是社会主义性质的决议\nC: 有利于冲破蒋介石的独裁统治和实行民主政治，有利于和平建国\nD: 是新民主主义性质的决议",
            "expected_answer": "C",
            "info": "case 5"
        },
        {
            "input": "中国共产党在实践中探索中国建设社会主义道路开始的标志是____\nA: 中华人民共和国的建立\nB: 过渡时期总路线的提出\nC: 《论十大关系》的发表\nD: 中共八大的召开",
            "expected_answer": "C",
            "info": "case 6"
        },
        {
            "input": "戊戌变法的阶级基础是____\nA: 农民阶级\nB: 开明地主\nC: 爱国知识分子\nD: 民族资产阶级",
            "expected_answer": "D",
            "info": "case 7"
        },
        {
            "input": "下列关于洋务运动叙述不正确的是____\nA: 洋务运动是封建统治阶级为了维护自己的统治而进行的一场自救运动\nB: 客观上促进了资本主义的发展\nC: 口号是“自强”和 “求富”\nD: 触及到了封建统治的根基",
            "expected_answer": "D",
            "info": "case 8"
        },
        {
            "input": "我国的改革从经济体制改革着手，经济体制的改革首先在____\nA: 思想解放上取得突破\nB: 对外开放上取得进展\nC: 城市经济体制改革取得突破性进展\nD: 农村取得突破性进展",
            "expected_answer": "D",
            "info": "case 9"
        },
        {
            "input": "党的过渡时期总路线的“一体”指的是____\nA: 国家工业化\nB: 对农业的社会主义改造\nC: 对手工业的社会主义改造\nD: 对资本主义工商业的社会主义改造",
            "expected_answer": "A",
            "info": "case 10"
        },
        {
            "input": "1947年刘邓大军挺进中原的重大意义在于____\nA: 影响战略决战主攻方向\nB: 粉碎蒋介石的重点进攻\nC: 改变敌我双方的力量对比\nD: 改变解放战争的战略态势",
            "expected_answer": "D",
            "info": "case 11"
        },
        {
            "input": "北伐战争对准的军阀是____①吴佩孚②孙传芳③张作霖④段祺瑞\nA: ①②③\nB: ②③④\nC: ①③④\nD: ①②③④",
            "expected_answer": "A",
            "info": "case 12"
        },
        {
            "input": "我国对农业社会主义改造采取的方针是____\nA: 典型示范\nB: 自愿互利\nC: 国家帮助\nD: 积极发展、稳步前进、逐步过渡",
            "expected_answer": "D",
            "info": "case 13"
        },
        {
            "input": "《双十协定》的签订，中共取得的战略优势是____\nA: 获得了自卫战争的准备时间\nB: 解放区获得了合法地位\nC: 赢得了民主党派的支持\nD: 取得了政治上的主动地位",
            "expected_answer": "D",
            "info": "case 14"
        },
        {
            "input": "七届二中全会召开的地点是____\nA: 北平\nB: 延安\nC: 西柏坡\nD: 上海",
            "expected_answer": "C",
            "info": "case 15"
        },
        {
            "input": "率领北平国民党军队接受和平改编的国民党将领是____\nA: 张治中\nB: 蔡廷锴\nC: 杜聿明\nD: 傅作义",
            "expected_answer": "D",
            "info": "case 16"
        },
        {
            "input": "孙中山三民主义思想的核心是____\nA: 驱除鞑虏\nB: 恢复中华\nC: 创立民国\nD: 平均地权",
            "expected_answer": "C",
            "info": "case 17"
        },
        {
            "input": "抗战进入相持阶段后，中国人民在华北给日本侵略者沉重打击的一次军事行动是____\nA: 百团大战\nB: 平型关战役\nC: 凇沪会战\nD: 台儿庄战役",
            "expected_answer": "D",
            "info": "case 18"
        },
        {
            "input": "中国各民主党派是阶级联盟性质的政党，其形成时的社会基础主要是____\nA: 开明绅士、地产实力派\nB: 工人、农民、小资产阶级\nC: 工人、农民、小资产阶级、民族资产阶级\nD: 民族资产阶级、城市小资产阶级以及同这些阶级相联系的知识分子和其他爱国分子",
            "expected_answer": "D",
            "info": "case 19"
        },
        {
            "input": "由于帝国主义、封建主义、官僚资本主义的残酷压迫，中国人民走上了反帝反封建反官僚资本主义斗争的伟大时代。民主革命的主要力量是____\nA: 工人\nB: 民族资产阶级\nC: 工人、农民\nD: 工人、农民、城市小资产阶级群众",
            "expected_answer": "D",
            "info": "case 20"
        },
        {
            "input": "革命统一战线正式建立的标志是____\nA: 国民党“一大”的召开\nB: 国民党改组\nC: 三民主义发展为新三民主义\nD: 中共“三大”的召开",
            "expected_answer": "A",
            "info": "case 21"
        },
        {
            "input": "抗日战争胜利后，某些民主党派的领导人物曾经鼓吹“中间路线”，即在共产党和国民党的建国方案中间，寻找出第三条道路，但最终幻灭了。其幻灭的根本原因在于____\nA: 没有武装力量、没有统一的政纲\nB: 国民党当局对民主党派的迫害\nC: 资产阶级共和国方案在中国行不通\nD: 民主党派不是单一阶级的政党",
            "expected_answer": "C",
            "info": "case 22"
        }
    ],
    "formatters": [
        {
            "name": "default_format",
            "definition": "function formatter(llm_response){return llm_response}",
            "info": "do nothing"
        },
        {
            "name": "extract_ABCD",
            "definition": [
                "function formatter(llm_response) {",
                "    let pred = -1;",
                "    if (!llm_response) {",
                "        return pred;",
                "    }",
                "   const regex = /[A-D]\\./;",
                "   const match = llm_response.match(regex);  ",
                "   if (match) {  ",
                "       pred = match[0][0];  ",
                "       return pred;",
                "   }",
                "    for (let k = 0; k < 4; k++) {",
                "        const x = String.fromCharCode(65 + k); // ASCII code for 'A' + k  ",
                "        if (",
                "            llm_response.includes(x + ')') ||",
                "            llm_response.includes(x + '：') ||",
                "            llm_response[llm_response.length - 1] === x ||",
                "            (llm_response.length > 1 && llm_response[llm_response.length - 2] === x) ||  ",
                "            llm_response.includes(x + '。')  ",
                "        ) {  ",
                "            pred = x;",
                "            return pred;",
                "        }  ",
                "        if ( ",
                "            llm_response.startsWith(x + ' ') || ",
                "            llm_response.startsWith(x + '.') || ",
                "            llm_response.startsWith(x + '(')  ",
                "        ) {  ",
                "            pred = x;  ",
                "            return pred;  ",
                "        }  ",
                "    }  ",
                "    return pred;  ",
                "}"
            ],
            "info": "extract A/B/C/D if possible, else return -1"
        }
    ],
    "evaluators": [
        {
            "name": "accuracy",
            "definition": "function evaluator(formatted_response, expected_answer, args){if (formatted_response == expected_answer) return 1; else return 0;}",
            "info": "exact string match"
        },
        {
            "name": "likert_scale",
            "definition": "async function evaluator(formatted_response, expected_answer, args){return await user_input(formatted_response, expected_answer, args)}",
            "info": "human evaluation, rating from 1 to 5"
        }
    ],
    "evaluation": {
        "target_LLM": "GPT-3.5",
        "target_formatter": "extract_ABCD",
        "reference_type": "given",
        "reference_LLM": "None",
        "reference_formatter": "extract_ABCD",
        "evaluator": "accuracy",
        "summary": "None"
    }
}